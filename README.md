# Refactoring

O que eu aprendi até hoje sobre melhorar um código

>*“The cleaner and nicer the program, the faster it’s going to run. And if it doesn’t, it’ll be easy to make it fast.”*
— Joshua Bloch

Tudo deve ser uma vantagem para o negócio, e não um luxo do desenvolvedor.

Resolver uma coisa de cada vez. Frase bem clichê, mas é isso mesmo, cada tarefa deve resolver só uma coisa, senão ela cresce e fica difícil de entregar, pois vai gerando mais problemas e fica mais difícil de testar.

Não faça sozinho, se houver uma equipe engajada renderá mais e haverá maior aprovação.

Saber perder. Show dos clichês. Costumo chamar de "Iniciativa" quando preciso fazer uma tentativa de resolver algo maior, ou seja, quando uma melhoria para ser efetiva precisa da execução de várias tarefas, porém o caminho para chegar até lá é incerto, então várias iniciativas são criadas, mas nem todas precisam ser concluídas.

Informe todas as "partes interessadas" (stakeholders). Evite questionamentos sobre suas atividades.

Se vai dar um passo para trás depois precisa dar vários para frente. Se de certa forma algo que está sendo feito é um retrocesso, que este seja justificado por algo melhor que vem depois. Quanto tempo e qual o impacto desse passo para trás?

No desenvolvimento ágil fazemos pequenas entregas, logo uma melhoria ágil serão várias entregas validadas também.

Se precisas fazer uma gambiarra para resolver um problema, provavelmente o caminho está errado e virão outras gambiarras.

Quase todos os problemas são possíveis de resolver, porém as vezes falta, conhecimento, criatividade, tempo, coragem ou esforço para isso.

## Abordagens

Analisar antes de fazer. Mais um clichê. A importância aqui é analisar bem a situação para saber escolher a abordagem correta, refazer, melhorar, nem botar a mão...

### Melhorar

Apesar de não ser o que o desenvolvedor queira essa normalmente é a alternativa mais segura e mais prática. 

Deve ser substituída pelo refazer quando o esforço e o resultado final forem muito aquém de refazer.

- continua funcionando
- reaproveita o que já foi pensado
- melhoria contínua
- pequenas entregas

### Refazer / nem botar a mão

O que o desenvolvedor mais gosta, refazer o trabalho dos outros achando que faz melhor, e por quê ele acha isso?

- Porque ele já viu as falhas do antigo código e sabe que aquele erro ele não pode cometer.
- Porque a tecnologia evolui para facilitar, então um código mais antigo normalmente com tecnologia defasada é menos prática.
- Há sempre a descoberta de novas boas práticas.

Nem botar a mão está diretamente associado a refazer, pois se a única opção é refazer e você não pode, então nem bota a mão.
